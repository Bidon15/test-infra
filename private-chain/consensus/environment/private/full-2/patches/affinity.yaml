#apiVersion: apps/v1
#kind: StatefulSet
#metadata:
#  labels:
#    app: consensus
#  name: consensus
#spec:
#  template:
#    spec:
#      containers:
#      - name: consensus
#      affinity:
#        nodeAffinity: # deploy only to the specific node-pool
#          requiredDuringSchedulingIgnoredDuringExecution:
#            nodeSelectorTerms:
#            - matchExpressions:
#              - key: k8s.scaleway.com/pool-name
#                operator: In
#                values:
#                - pool-infra-0
#        podAntiAffinity: # deploy only once per node
#          requiredDuringSchedulingIgnoredDuringExecution:
#          - topologyKey: kubernetes.io/hostname
#            labelSelector:
#              matchLabels:
#                app: consensus
